{% extends "base.html.twig"%}
{% block body %}
    {% include 'DaiquiriSiteBundle:Default:header.html.twig' %}
    <div class="container">
        {% include 'breadcrumb/breadcrumb.html.twig'%}
        <div class="mfp-with-anim mfp-hide mfp-dialog mfp-search-dialog" id="search-dialog">
            <h3>{{ 'Search for Rental Cars' | trans({}, 'car') }}</h3>
            {{ render(controller('DaiquiriSiteBundle:CarSearcher:new')) }}
        </div>
        {% if salida.haveToPaginate %}
            <h3 class="booking-title">{{ salida | length }} {{ 'Cars availables' | trans({}, 'car') }}<small><a class="popup-text" href="#search-dialog" data-effect="mfp-zoom-out">{{ 'Change search' | trans({}, 'car') }}</a></small></h3>
                {% else %}
            <h3 class="booking-title">{% if salida | length < 0 %}{{ salida | length }} {{ 'Cars' | trans({}, 'car') }}{% else %}{{ salida | length }} {{ 'Cars availables' | trans({}, 'car') }}{% endif %}<small><a class="popup-text" href="#search-dialog" data-effect="mfp-zoom-out">{{ 'Change search' | trans({}, 'car') }}</a></small></h3>
                {% endif %}
        <div class="row">
            <div class="col-md-3">
                <aside class="booking-filters text-white">
                    <h3>Filter By:</h3>
                    <ul class="list booking-filters-list">
                        <li>
                            <h5 class="booking-filters-title">Star Rating</h5>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />5 star (220)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />4 star (112)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />3 star (75)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />2 star (60)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />1 star (20)</label>
                            </div>
                        </li>
                        <li>
                            <h5 class="booking-filters-title">Attractions</h5>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Perfomances (126)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Cultural (80)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Museums (130)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Landmarks (52)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Outdoors (62)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Amusement (22)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Sports (32)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Zoos & Aquariums (7)</label>
                            </div>
                        </li>
                        <li>
                            <h5 class="booking-filters-title">Activities</h5>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Sightseeing Tours (184)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Wellness & Spas (130)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Food & Drink (40)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Adventure (15)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Classes (34)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Gear Rentals (10)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Ranch & Farm (1)</label>
                            </div>
                        </li>
                        <li>
                            <h5 class="booking-filters-title">Nightlife</h5>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Bars (115)</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input class="i-check" type="checkbox" />Clubs (63)</label>
                            </div>
                        </li>
                    </ul>
                </aside>
            </div>
            <div class="col-md-9">
                <div class="nav-drop booking-sort">
                    <h5 class="booking-sort-title"><a href="#">Sort: Ranking<i class="fa fa-angle-down"></i><i class="fa fa-angle-up"></i></a></h5>
                    <ul class="nav-drop-menu">
                        <li><a href="#">Name (A-Z)</a>
                        </li>
                        <li><a href="#">Name (Z-A)</a>
                        </li>
                        <li><a href="#">Number of Reviews</a>
                        </li>
                        <li><a href="#">Just Added</a>
                        </li>
                    </ul>
                </div>
                <ul class="booking-list">
                    {% for car in salida.currentPageResults %}
                        <li>
                            <a class="booking-item" href="#">
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="booking-item-car-img">
                                            {% if car.picture.galleryHasMedias is defined %}
                                                <img src="{% path car.picture, 'reference' %}" alt="{{ car.title }}" title="{{ car.title }}" />
                                            {% else %}
                                                <img src="{{ asset('bundles/daiquirisite/img/800x600.png') }}" alt="{{ car.title }}" title="{{ car.title }}" />
                                            {% endif %}
                                            <p class="booking-item-car-title">{{ car.title }}</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="row">
                                            <div class="col-md-9">
                                                <ul class="booking-item-features booking-item-features-sign clearfix">
                                                    <li rel="tooltip" data-placement="top" title="{{ 'Passengers' | trans({}, 'car') }}"><i class="fa fa-male"></i><span class="booking-item-feature-sign">x {{ car.capacity }}</span>
                                                    </li>
                                                    <li rel="tooltip" data-placement="top" title="{{ 'Doors' | trans({}, 'car') }}"><i class="im im-car-doors"></i><span class="booking-item-feature-sign">x {{ car.doors }}</span>
                                                    </li>
                                                    <li rel="tooltip" data-placement="top" title="{{ 'Baggage Quantity' | trans({}, 'car') }}"><i class="fa fa-briefcase"></i><span class="booking-item-feature-sign">x {{ car.luggagecapacity }}</span>
                                                    </li>
                                                    {% if car.transsmission == 0 %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Automatic Transmission' | trans({}, 'car') }}"><i class="im im-shift-auto"></i><span class="booking-item-feature-sign">{{ 'auto' | trans({}, 'car') }}</span>
                                                        </li>
                                                    {% else %}     
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Manual Transmission' | trans({}, 'car') }}"><i class="im im-shift"></i><span class="booking-item-feature-sign">{{ 'manual' | trans({}, 'car') }}</span>

                                                        </li>
                                                    {% endif %}
                                                    {% if car.power == 0 %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Disel Vehicle' | trans({}, 'car') }}"><i class="im im-diesel"></i><span class="booking-item-feature-sign">diesel</span></li>
                                                            {% elseif  car.power == 1 %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Hybrid Vehicle' | trans({}, 'car') }}"><i class="im im-diesel"></i><span class="booking-item-feature-sign">hybrid</span>
                                                        </li>
                                                    {% else %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Electric Vehicle' | trans({}, 'car') }}"><i class="im im-electric"></i><span class="booking-item-feature-sign">electric</span>
                                                        </li>
                                                    {% endif %}
                                                    {% if car.engine is defined and not null %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Engine' | trans({}, 'car') }}"><i class="fa fa-gears"></i><span class="booking-item-feature-sign">{{ car.engine }}</span>
                                                            {% endif %}
                                                    </li>
                                                </ul>
                                                <ul class="booking-item-features booking-item-features-small clearfix">
                                                    {% if car.clima == true %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Climate Control' | trans({}, 'car') }}"><i class="im im-climate-control"></i>
                                                        </li>
                                                    {% endif %}
                                                    {% if car.airConditioner == true %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Air Conditioning' | trans({}, 'car') }}"><i class="im im-air"></i>
                                                        </li>
                                                    {% endif %}
                                                    {% if car.satellite == true %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Satellite Navigation' | trans({}, 'car') }}"><i class="im im-satellite"></i>
                                                        </li>
                                                    {% endif %}
                                                    {% if car.powerdoorslock == true %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Power Door Locks' | trans({}, 'car') }}"><i class="im im-lock"></i>
                                                        </li>
                                                    {% endif %}
                                                    {% if car.radio == true %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'FM Radio' | trans({}, 'car') }}"><i class="im im-fm"></i>
                                                        </li>
                                                    {% endif %}
                                                    {% if car.cdPlayer == true %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Stereo CD/MP3' | trans({}, 'car') }}"><i class="im im-stereo"></i>
                                                        </li>
                                                    {% endif %}                              
                                                    {% if car.tilt == true %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Tilt Steering Wheel' | trans({}, 'car') }}"><i class="im im-car-wheel"></i>
                                                        </li>
                                                    {% endif %}
                                                    {% if car.powerwindow == true %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Power Windows' | trans({}, 'car') }}"><i class="im im-car-window"></i>
                                                        </li>
                                                    {% endif %}
                                                </ul>
                                            </div>
                                            <div class="col-md-3">
                                                <ul class="booking-item-features booking-item-features-dark">
                                                    {% if car.terminalpickup == true %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Terminal Pickup' | trans({}, 'car') }}"><i class="fa fa-plane"></i>
                                                        </li>
                                                    {% endif %}
                                                    {% if car.shuttlebus == true %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Shuttle Bus to Car' | trans({}, 'car') }}"><i class="im im-bus"></i>
                                                        </li>
                                                    {% endif %}
                                                    {% if car.drivers | length > 0 %}
                                                        <li rel="tooltip" data-placement="top" title="{{ 'Car with Driver' | trans({}, 'car') }}"><i class="im im-driver"></i>
                                                        </li>
                                                    {% endif %}
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3"><span class="booking-item-price">{{ car.price | price | raw }}</span><span>/{{ 'day' | trans({}, 'car') }}</span>
                                        <p class="booking-item-flight-class">{{ car.carCategory }}</p>{#<span class="btn btn-primary">Select</span>#}
                                    </div>
                                </div>
                            </a>
                        </li>
                    {% else %}

                        <div class="alert alert-info">                            
                            <p class="text-bigger"> {{ 'No cars to show' | trans({}, 'car') }}</p>
                        </div>


                    {% endfor %}

                </ul>
                <div class="row">

                    <div class="col-md-7">
                        {% if salida.haveToPaginate %}
                            <p><small>{{ salida | length }} {{ 'Cars' | trans({}, 'car') }}  {#{ salida.currentPageResults[0].date | date('M j, Y') }#} &nbsp;&nbsp;{{ 'Showing' | trans({}, 'car') }} {{ salida.getCurrentPage }} – {{ salida.getNbPages }}</small>
                            </p>
                            {% if category is defined and category is not null %}
                                {{ pagerfanta(salida, 'page_view', {'routeName': 'car_list_category_paginated', 'routeParams' : { 'category': category.slug }}, pagerfanta_opts) }}
                            {% else %}
                                {{ pagerfanta(salida, 'page_view', {'routeName': 'car_list_paginated'}, pagerfanta_opts) }}
                            {% endif %}
                        {% endif %}
                    </div>                   
                    <div class="col-md-5 text-right">
                        <p>{{ "Not what you\'re looking for?" | trans({}, 'car') }} <a class="popup-text" href="#search-dialog" data-effect="mfp-zoom-out">{{ 'Try your search again' | trans({}, 'car') }}</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="gap"></div>
    </div>

    {% include 'DaiquiriSiteBundle:Default:footer.html.twig' %}
{% endblock %}